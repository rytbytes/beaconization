<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body>

<button class="scanDevices" id="test" onclick="test()">Scan</button>

<script>

function test(){

navigator.bluetooth.requestDevice({ filters: [{ services: ['scan_parameters'] , acceptAllDevices:true}] })
.then(device => device.gatt.connect())
.then(server => server.getPrimaryService('battery_service'))
.then(service => service.getCharacteristic('battery_level'))
.then(characteristic => {
  return characteristic.readValue()
    .then(value => {
       // Before..
       console.log('Battery percentage is ' + value.getUint8(0));
       // Now...
       console.log('Battery percentage is ' + characteristic.getUint8Value(0));
    })
})

}

</script>
</body>
</html>